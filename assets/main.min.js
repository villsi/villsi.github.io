(() => {
  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/plugins/loggers.js
  function logInfo(...args) {
    console.info("%c[blog-logger]", "color: #8aa2d3", ...args);
  }

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/plugins/utils.js
  var SECTIONS = {
    INDEX: "index",
    LIST: "list",
    SINGLE: "single",
    CODE: "code",
    TAGS: "tags",
    FRIENDS: "friends"
  };
  function getSection() {
    const section = document.body.getAttribute("data-section") || "";
    if (Object.values(SECTIONS).includes(section)) {
      return section;
    } else {
      return "";
    }
  }

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/components/search.js
  var SEARCH_URL = "https://www.google.com/search";
  var SEARCH_SITE = "blog.villsi.net/post";
  function handleSearch(str) {
    if (!str || typeof str !== "string") {
      logInfo("no search query set");
      return;
    }
    const url = new URL(SEARCH_URL);
    url.searchParams.append("q", str);
    url.searchParams.append("newwindow", "1");
    url.searchParams.append("as_sitesearch", SEARCH_SITE);
    logInfo(`perform search with ${str.split(" ").length} querys`);
    window.open(url.toString());
  }
  var search_default = () => {
    const ctrl = document.querySelector("#search-btn");
    const input = document.querySelector("#search-input");
    if (ctrl && input) {
      ctrl.addEventListener("click", () => handleSearch(input.value));
    }
  };

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/components/toc.js
  var toc_default = () => {
    const tocCtrl = document.querySelector(`#toc-btn`);
    const tocContent = document.querySelector(`#toc-overlay`);
    if (!tocContent && tocCtrl) {
      tocCtrl.remove();
      return;
    }
    if (!tocCtrl) {
      return;
    }
    tocCtrl.addEventListener("click", () => {
      if (Array.from(tocContent.classList).includes("toc--active")) {
        tocContent.classList.remove("toc--active");
      } else {
        tocContent.classList.add("toc--active");
      }
    });
  };

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/components/zoom.js
  var zoom_default = () => {
    if (document.querySelector("[data-zoomable]") && window.mediumZoom) {
      window.mediumZoom("[data-zoomable]", {
        background: "var(--color-backdrop)"
      });
    }
  };

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/components/quicklink.js
  var quicklink_default = () => {
    if (window.quicklink) {
      window.quicklink.listen();
    }
  };

  // ns-hugo:/home/runner/work/hugo-server/hugo-server/assets/js/components/scrollup.js
  var scrollupBtn = document.querySelector(".scrollupBtn");
  var rootElement = document.documentElement;
  function handleScroll() {
    const scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;
    if (rootElement.scrollTop / scrollTotal > 0.8) {
      scrollupBtn.classList.add("showBtn");
    } else {
      scrollupBtn.classList.remove("showBtn");
    }
  }
  function addScrollListener() {
    document.addEventListener("scroll", handleScroll);
  }
  function addClickListener() {
    scrollupBtn.addEventListener("click", scrollup);
  }
  function scrollup() {
    addScrollListener();
    addClickListener();
    rootElement.scrollTo({
      top: 0,
      behavior: "smooth"
    });
  }

  // <stdin>
  var SECTION = getSection();
  if ([SECTIONS.INDEX, SECTIONS.LIST].includes(SECTION)) {
    search_default();
    logInfo("search module inited");
  }
  if (SECTION === SECTIONS.SINGLE) {
    toc_default();
    logInfo("toc module inited");
    zoom_default();
    logInfo("zoom module inited");
  }
  quicklink_default();
  logInfo("quicklink module inited");
  scrollup();
  logInfo("scrollup module inited");
})();
